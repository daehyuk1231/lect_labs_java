package app.labs.ex04.aop02;

import app.labs.ex03.di03.AppConfig;

import org.aspectj.lang.JoinPoint;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Before;
import org.aspectj.lang.annotation.Pointcut;
import org.springframework.stereotype.Component;

@Component
@Aspect
public class LogAspect {

	private final AppConfig appConfig;

	LogAspect(AppConfig appConfig) {
		this.appConfig = appConfig;
	}

	// 핵심코드
	@Pointcut(value = "execution(* app.lobs.ex04.aop02.HelloService.sayHello(..))")
	private void helloPointcut() {
	}

	@Pointcut(value = "execution(* app.labs.ex04.aop02.HelloService.sayGoodBye(..))")
	private void goodbyePointcut() {
	}

	// 공통코드(Aspect + Advice)
	@Before("helloPointcut()") // Advice
	public void beforeLog(JoinPoint joinpoint) { // Aspect
		System.out.println(">>> log:" + new java.util.Date());
	}
	
	public void afterLog(JoinPoint joinpoint, Object msg) {
		
	}
}
